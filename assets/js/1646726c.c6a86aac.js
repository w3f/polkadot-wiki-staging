(self.webpackChunk=self.webpackChunk||[]).push([[2169],{47940:(e,t,a)=>{"use strict";a.d(t,{Z:()=>k});var n=a(74165),o=a(15861),i=a(67294),s=a(34042),r=a(85545),l="polkadot",d="kusama",h="statemine",c="statemint";function p(e,t,a){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)((0,n.Z)().mark((function e(t,a,o){var i,l,d,h,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=void 0,l=void 0,e.t0=t,e.next="polkadot"===e.t0?5:"kusama"===e.t0?7:"statemine"===e.t0?9:"statemint"===e.t0?11:13;break;case 5:return i="wss://rpc.polkadot.io",e.abrupt("break",14);case 7:return i="wss://kusama-rpc.polkadot.io/",e.abrupt("break",14);case 9:return i="wss://statemine-rpc.polkadot.io/",e.abrupt("break",14);case 11:return i="wss://statemint-rpc.polkadot.io/",e.abrupt("break",14);case 13:console.log("Unknown socket url provided, no connection made.");case 14:if(void 0!==i){e.next=18;break}return e.abrupt("return");case 18:return d=new s.U(i),e.next=21,r.G.create({provider:d});case 21:h=e.sent,(c=a.split(".")).forEach((function(e){e in h&&(h=h[e])})),e.t1=c[0],e.next="consts"===e.t1?27:"query"===e.t1?29:34;break;case 27:return l=h.toString(),e.abrupt("break",35);case 29:return e.next=31,h();case 31:return l=(l=e.sent).toString(),e.abrupt("break",35);case 34:console.log("Unknown path prefix ("+c[0]+") in "+a);case 35:return e.abrupt("return",l);case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,t,a,n){var o={polkadot:{precision:1e10,symbol:"DOT"},kusama:{precision:1e12,symbol:"KSM"},statemint:{precision:1e10,symbol:"DOT"},statemine:{precision:1e12,symbol:"KSM"}};switch(t){case"humanReadable":var i=void 0;if(a===l||a===c)i=3;else{if(a!==d&&a!==h)return void console.log("Unknown network type found when attempting to apply 'Human Readable' filter");i=6}e=parseFloat(e),e=Number.isInteger(e/o[a].precision)?e/o[a].precision+" "+o[a].symbol:(e/o[a].precision).toFixed(i)+" "+o[a].symbol;break;case"blocksToDays":e=6*e/86400;break;default:return void console.log("Ignoring unknown filter type")}n(e.toString())}const k=function(e){var t=e.network,a=e.path,s=e.defaultValue,r=e.filter,m=void 0===r?void 0:r,k=(0,i.useState)(""),g=k[0],f=k[1];return(0,i.useEffect)((function(){void 0!==m?u(s.toString(),m,t,f):f(s.toString());var e=void 0;switch(t){case l:e="wss://rpc.polkadot.io";break;case d:e="wss://kusama-rpc.polkadot.io/";break;case h:e="wss://statemine-rpc.polkadot.io/";break;case c:e="wss://statemint-rpc.polkadot.io/";break;default:console.log("Unknown network provided, "+net)}if(void 0===e)console.log("Failed to connect to a valid websocket, applying default");else{var i=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t,a,f);case 2:if(void 0!==(o=e.sent)){e.next=7;break}return e.abrupt("return");case 7:void 0!==m?u(o,m,t,f):f(o);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{i()}catch(r){console.log(r)}}}),[]),g}},78381:(e,t,a)=>{"use strict";a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>l,metadata:()=>h,toc:()=>p});var n=a(87462),o=a(63366),i=(a(67294),a(3905)),s=a(47940),r=["components"],l={id:"learn-staking",title:"Staking",sidebar_label:"Staking Concepts",description:"An introduction on staking in Polkadot's NPoS consensus model.",keywords:["staking","stake","nominate","nominating","NPoS"],slug:"../learn-staking"},d=void 0,h={unversionedId:"learn/learn-staking",id:"learn/learn-staking",title:"Staking",description:"An introduction on staking in Polkadot's NPoS consensus model.",source:"@site/../docs/learn/learn-staking.md",sourceDirName:"learn",slug:"/learn-staking",permalink:"/docs/learn-staking",draft:!1,editUrl:"https://github.com/w3f/polkadot-wiki/edit/master/docs/learn/learn-staking.md",tags:[],version:"current",lastUpdatedBy:"filippoweb3",lastUpdatedAt:1663149091,formattedLastUpdatedAt:"Sep 14, 2022",frontMatter:{id:"learn-staking",title:"Staking",sidebar_label:"Staking Concepts",description:"An introduction on staking in Polkadot's NPoS consensus model.",keywords:["staking","stake","nominate","nominating","NPoS"],slug:"../learn-staking"},sidebar:"docs",previous:{title:"Validator",permalink:"/docs/learn-validator"},next:{title:"Staking FAQ",permalink:"/docs/learn-staking-faq"}},c={},p=[{value:"Introduction",id:"introduction",level:2},{value:"Nominated Proof-of-stake overview",id:"nominated-proof-of-stake-overview",level:2},{value:"Nominating validators",id:"nominating-validators",level:3},{value:"Eras and sessions",id:"eras-and-sessions",level:3},{value:"Rewards",id:"rewards",level:3},{value:"Skin in the game when Staking",id:"skin-in-the-game-when-staking",level:3},{value:"Being a nominator",id:"being-a-nominator",level:2},{value:"Tasks and responsibilities",id:"tasks-and-responsibilities",level:3},{value:"Selection of validators",id:"selection-of-validators",level:3},{value:"In theory",id:"in-theory",level:4},{value:"In practice",id:"in-practice",level:4},{value:"Accounts",id:"accounts",level:3},{value:"Staking proxies",id:"staking-proxies",level:3},{value:"Staking system overview",id:"staking-system-overview",level:2},{value:"Bags list",id:"bags-list",level:3},{value:"Rewards distribution",id:"rewards-distribution",level:3},{value:"Oversubscription, commission fees &amp; slashes",id:"oversubscription-commission-fees--slashes",level:4},{value:"Claiming rewards",id:"claiming-rewards",level:3},{value:"Slashing",id:"slashing",level:2},{value:"Chilling",id:"chilling",level:2},{value:"Inflation",id:"inflation",level:2},{value:"Why stake?",id:"why-stake",level:3},{value:"Why not stake?",id:"why-not-stake",level:3},{value:"How many validators does Polkadot have?",id:"how-many-validators-does-polkadot-have",level:2},{value:"Resources",id:"resources",level:2}],m={toc:p};function u(e){var t=e.components,l=(0,o.Z)(e,r);return(0,i.kt)("wrapper",(0,n.Z)({},m,l,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Here you will learn about what staking is, why it is important and how it works on\nPolkadot."),(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"Blockchain networks use ",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-consensus/#why-do-we-need-consensus"},"consensus")," mechanisms to finalize\nblocks on the chain. Consensus is the process of agreeing on something, in this case, the progression\nof the blockchain or how blocks are added to the chain. Consensus consists of two actions:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"block production"),", i.e. the way multiple blocks candidates are produced, and "),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"block finality"),", i.e. the way only one block out of many candidates is selected and added to the canonical chain (see ",(0,i.kt)("a",{parentName:"li",href:"/docs/learn-consensus/#probabilistic-vs-provable-finality"},"this")," article for more information about finality).")),(0,i.kt)("p",null,"Proof-of-Work (PoW) and Proof-of-Stake (PoS) are well-known mechanisms used to reach consensus in a secure and trustless way on public blockchains, where we have many participants who do not know each other (and probably never will). In PoW networks, miners are responsible for adding blocks to the chain, and for doing such work they are\ntypically rewarded with tokens. Network security relies on the fact that the miners must compete to solve difficult mathematic puzzles to add blocks - a solution that has been criticized for energy wastage. In PoS networks like Polkadot the\nsecurity of the network depends on the amount of capital locked on chain: the more the capital\nlocked the lower the chance of an attack on the network, as the attacker\nneeds to incur a heavy loss to orchestrate a successful attack (more on this later on). The process of\nlocking tokens on chain is called ",(0,i.kt)("inlineCode",{parentName:"p"},"staking"),". "),(0,i.kt)("p",null,"Similar to the miners in PoW networks, PoS networks have ",(0,i.kt)("inlineCode",{parentName:"p"},"validators")," but they do not have to compete with each other to solve mathematical puzzles and are instead pre-selected to produce the blocks based on the stake backing them.\nToken holders can lock funds on chain and for doing so, they are getting ",(0,i.kt)("inlineCode",{parentName:"p"},"staking rewards"),". There is\nthus an economic incentive for token holders to become active participants who contribute to the\nsecurity and economic stability of the network. PoS networks in general are therefore more inclusive\nthan PoW networks, as participants do not need to have either technical knowledge about\nblockchain technology or experience in running mining equipment. "),(0,i.kt)("p",null,'PoS ensures that everybody participating in the staking process has\n"skin in the game" and thus can be held accountable. In case of misbehavior participants in the\nstaking process can be punished or ',(0,i.kt)("inlineCode",{parentName:"p"},"slashed"),", and depending on the gravity of the situation, their\nstake can be partly or fully confiscated by the network. It is not in a staker's economic interest to orchestrate an attack and risk losing tokens. Any rational actor staking on the network would want to get rewarded, and the PoS network rewards good behavior and punishes bad behavior."),(0,i.kt)("h2",{id:"nominated-proof-of-stake-overview"},"Nominated Proof-of-stake overview"),(0,i.kt)("p",null,"Polkadot implements NPoS (Nominated Proof-of-Stake),\na relatively novel and sophisticated mechanism to select the validators who are allowed to participate in\nits ",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-consensus"},"consensus")," protocol. The NPoS encourages DOT\nholders to participate as nominators."),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/learn-consensus/#nominated-proof-of-stake"},"Nominated Proof-of-Stake (NPoS)")," encourages DOT\nholders to participate as ",(0,i.kt)("inlineCode",{parentName:"p"},"nominators"),". Nominators may back up to\n",(0,i.kt)(s.Z,{network:"polkadot",path:"consts.staking.maxNominations",defaultValue:16,mdxType:"RPC"}),"\n","\nvalidators as trusted validator candidates, and the network will automatically distribute the stake among validators in\nan even manner. Also, in NPoS the stake of both nominators and validators can be slashed.  For an in-depth review of NPoS check\n",(0,i.kt)("a",{parentName:"p",href:"https://research.web3.foundation/en/latest/polkadot/NPoS/index.html"},"this")," research article."),(0,i.kt)("h3",{id:"nominating-validators"},"Nominating validators"),(0,i.kt)("p",null,"The action of nominating consists of a) locking or\nbonding tokens (stake) on chain, and 2) nominating a set of validator candidates to whom the stake will\nbe allocated. Polkadot uses tools ranging\nfrom election theory to game theory to discrete optimization, to develop an efficient validator\nselection process that offers fair representation and security, thus avoiding uneven power and\ninfluence among validators. The election algorithms used by Polkadot are based on the Proportional Justified Representation (PJR) methods like ",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-phragmen"},"Phragmen"),". For more information about PJR methods visit ",(0,i.kt)("a",{parentName:"p",href:"https://research.web3.foundation/en/latest/polkadot/NPoS/1.%20Overview.html?highlight=proportional%20justified%20representation#"},"this")," research article."),(0,i.kt)("h3",{id:"eras-and-sessions"},"Eras and sessions"),(0,i.kt)("p",null,"The stake from nominators is used to increase the number of tokens held by such candidates, increasing their chance of being selected by the election algorithm for block\nproduction during a specific ",(0,i.kt)("inlineCode",{parentName:"p"},"era"),". An era is a period of time of 24 hours during\nwhich an ",(0,i.kt)("inlineCode",{parentName:"p"},"active set")," of validators is producing blocks and performing other actions on chain. This\nmeans that not all validators are in the active set and such set changes between eras. Each era is\ndivided into 6 epochs or ",(0,i.kt)("inlineCode",{parentName:"p"},"sessions")," during which validators are assigned as block producers to\nspecific time frames or ",(0,i.kt)("inlineCode",{parentName:"p"},"slots"),". This means that validators know the slots when they will be\nrequired to produce a block within a specific session, but they do not know all the slots within a\nspecific era. Having sessions adds a layer of security because it decreases the chance of having\nmultiple validators assigned to a slot colluding to harm the network."),(0,i.kt)("h3",{id:"rewards"},"Rewards"),(0,i.kt)("p",null,"Validators who produce a block are rewarded with tokens, and they can share rewards with their\nnominators. Both validators and nominators can stake their tokens on chain and receive staking\nrewards at the end of each era. The staking system pays out rewards equally to all validators\nregardless of stake. Thus, having more stake in a validator does not influence the amount of block rewards\nit receives. This avoids the centralization of power to a few validators. There is a probabilistic\ncomponent in the calculation of rewards, so they may not be exactly equal for all validators. In\nfact, during each era validators can earn ",(0,i.kt)("inlineCode",{parentName:"p"},"era points")," by doing different tasks on chain. The more the points, the higher the reward for a specific era. This promotes validators' activity on chain.\nTo know more about era points, and how and on which basis they are distributed visit the\n",(0,i.kt)("a",{parentName:"p",href:"/docs/maintain-guides-validator-payout"},"dedicated page"),". Distribution of the rewards is pro-rata to all stakers after the validator's commission is deducted."),(0,i.kt)("h3",{id:"skin-in-the-game-when-staking"},"Skin in the game when Staking"),(0,i.kt)("p",null,"The security of PoS networks depends on the amount of staked tokens. This means\nthat to successfully attack the network one would need a large number of tokens that can be accrued\nby one single participant alone or would need different participants to collude and act maliciously. In the case of NPoS, if there is an attack both the validator(s) and nominators will be\n",(0,i.kt)("inlineCode",{parentName:"p"},"slashed")," and in some cases, their stake partially or fully confiscated by the network and deposited in the treasury. So there is little interest in acting in a harmful way because all participants can be\nheld accountable for bad actions. In NPoS, validators are paid equal rewards regardless of the amount they have at stake, thus avoiding large payouts to few large validators which would\nultimately lead to consensus centralization."),(0,i.kt)("h2",{id:"being-a-nominator"},"Being a nominator"),(0,i.kt)("h3",{id:"tasks-and-responsibilities"},"Tasks and responsibilities"),(0,i.kt)("p",null,"Since validator slots are limited, most of those who wish to stake their DOT and contribute to the\neconomic security of the network will be nominators, thus here we focus on the role of nominators.\nHowever, it is worth mentioning that validators do most of the heavy lifting: they run the validator nodes and manage\n",(0,i.kt)("a",{parentName:"p",href:"https://research.web3.foundation/en/latest/polkadot/keys/index.html?highlight=session%20keys"},"session keys"),",\nproduce new block candidates in ",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-consensus/#block-production-babe"},"BABE"),", vote and come to\nconsensus in ",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-consensus/#finality-gadget-grandpa"},"GRANDPA"),", validate the state transition\nfunction of parachains, and possibly some other responsibilities regarding data availability and\n",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-crosschain"},"XCM"),". For more information, you can take a look at the\n",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-validator"},"validator docs")," to understand what you need to do as a validator. If you want\nto become a validator check ",(0,i.kt)("a",{parentName:"p",href:"/docs/maintain-guides-how-to-validate-polkadot"},"this")," guide."),(0,i.kt)("p",null,"Nominators have far fewer responsibilities than validators. These include selecting validators and\nmonitoring their performance, keeping an eye on changing commission rates (a validator can change\ncommission at any time), and general health monitoring of their validators' accounts. Thus, while not\nbeing completely set-it-and-forget-it, a nominator's experience is relatively hands-off compared to that of\na validator. For more information, you can take a look at the ",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-nominator"},"nominator guide"),"\nto understand your responsibilities as a nominator."),(0,i.kt)("p",null,"If you want to become a nominator, check\n",(0,i.kt)("a",{parentName:"p",href:"/docs/maintain-guides-how-to-nominate-polkadot"},"this")," guide. If you are a beginner and\nwould like to securely stake your tokens using Polkadot JS Apps, refer to ",(0,i.kt)("a",{parentName:"p",href:"https://support.polkadot.network/support/solutions/articles/65000168057-how-do-i-stake-nominate-on-polkadot-"},"this")," support article. "),(0,i.kt)("h3",{id:"selection-of-validators"},"Selection of validators"),(0,i.kt)("p",null,"The task of choosing validators is not simple, as it should take into account nominator reward and\nrisk preferences. Ideally one aims to maximize the reward-to-risk ratio by maximizing rewards and minimizing risks, with sometimes having to\ncompromise between the two as minimizing risks might decrease rewards as well. Nominators should pay attention, especially to six criteria when nominating validators (not in order of importance):"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"recent history of the era points earned across eras"),(0,i.kt)("li",{parentName:"ul"},"validator's self stake (shows skin in the game)"),(0,i.kt)("li",{parentName:"ul"},"total stake backing the validator (which is the sum of self stake and the stake coming from nominators)"),(0,i.kt)("li",{parentName:"ul"},"commission fees (i.e. how much validators charge nominators)"),(0,i.kt)("li",{parentName:"ul"},"verified identity"),(0,i.kt)("li",{parentName:"ul"},"previous slashes")),(0,i.kt)("p",null,"The diagram below shows how the selection of those criteria affects the reward-to-risk ratio."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"rewards and risks diagram",src:a(5364).Z,width:"845",height:"421"})),(0,i.kt)("h4",{id:"in-theory"},"In theory"),(0,i.kt)("p",null,"To maximize rewards and minimize risk, one could select those validators\nthat:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"have era points above average (because they will get more rewards for being active), "),(0,i.kt)("li",{parentName:"ul"},"have the total stake backing the validator below the average active validator stake (because they will pay out more rewards per staked DOT), "),(0,i.kt)("li",{parentName:"ul"},"have high own stake (because if slashed they have a lot to lose), "),(0,i.kt)("li",{parentName:"ul"},"have low commission fees but not 0% (because it makes sense that for doing the heavy lifting, validators ask for a small commission), "),(0,i.kt)("li",{parentName:"ul"},"have on-chain registered identity (because it adds a layer of trust and possibly provides access to their website and contact details), "),(0,i.kt)("li",{parentName:"ul"},"and have not been slashed (meaning that their on-chain behavior is genuine).")),(0,i.kt)("h4",{id:"in-practice"},"In practice"),(0,i.kt)("admonition",{title:"Nominators must periodically check their validators",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Nominating is ",(0,i.kt)("em",{parentName:"p"},"not"),' a "set and forget" operation. The whole NPoS system is dynamic and nominators should\nperiodically monitor the performance and reputation of their validators. Failing to do so could\nresult in applied slashes and/or rewards not being paid out, possibly for a prolonged period of time.')),(0,i.kt)("p",null,"Although the theory can be used as a general guideline, in practice it is more complicated and\nfollowing the theory might not necessarily lead to the desired result. Validators might have the total stake backing them below average, low commission and above average era points in one era and then have a totally\ndifferent profile in the next one. Selection based the criteria like on-chain identity, slash history and low commission make the staking rewards deterministic. But there are criteria that vary more than others, with era points\nbeing the most variable and thus one of the key probabilistic components of staking rewards. It is not recommended\nto change nominations because of the low era points of a validator in a single era. Variability in rewards due to the era points should level out over time. If a validator consistently gets\nera points below average, it makes sense to nominate a better-performing validator for the health of the network and for increased staking rewards."),(0,i.kt)("p",null,"Check\n",(0,i.kt)("a",{parentName:"p",href:"https://support.polkadot.network/support/solutions/articles/65000150130-how-do-i-know-which-validators-to-choose-"},"this"),"\nsupport article to understand in detail how to select the set of validators to nominate."),(0,i.kt)("h3",{id:"accounts"},"Accounts"),(0,i.kt)("p",null,"There are two different accounts that can be used to securely manage your funds while staking."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Stash:")," This account holds funds bonded for staking, but delegates some functions to a\ncontroller account. As a result, you may actively participate in staking with a stash private key kept in\na cold wallet like Ledger, meaning it stays offline all the time. Stash account keys are used to\nsign staking actions such as bonding additional funds.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Controller:")," This account acts on behalf of the stash account, signaling decisions about\nnominating and validating. It can set preferences like commission (for validators) and the staking rewards payout\naccount. The earned rewards can be bonded (locked) immediately for staking on your stash account,\nwhich would effectively compound the rewards you receive over time. You could also choose to have\nthem deposited to your controller account or a different account as a free (transferable) balance.\nIf you are a validator, it can also be used to set your ",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-keys#session-keys"},"session keys"),". Controller\naccounts only need sufficient funds to pay for the transaction fees."))),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},'Never leave a high balance on a controller account which are usually "hot" as their\nprivate key is stored on the device (PC, phone) and it is always exposed to the internet for potential hacks and scams. It is good practice to deposit rewards on the stash account or to send them to another\naccount on a cold wallet.')),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"staking",src:a(58126).Z,width:"793",height:"310"})),(0,i.kt)("p",null,"This hierarchy of separate key types for stash and controller accounts was designed so that nominators and validator operators can\nprotect themselves much better than in systems with only one key. As a rule, the more often one uses\na private key the higher its visibility and thus the chance it can be stolen. So, if one uses a key\nfor multiple roles on a blockchain network, security can be easily compromised as the likelihood one\nuses that key often is high. Note that the damage linked to stolen private keys is different\ndepending on the type of account derivation. In the case of soft derivation, all derived accounts are\ncompromised. More information about account derivation can be found\n",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-accounts/#derivation-paths"},"here"),"."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"For ledger users staking directly on Ledger Live, there is currently only one option to use one\naccount as both stash and controller.")),(0,i.kt)("h3",{id:"staking-proxies"},"Staking proxies"),(0,i.kt)("p",null,"Polkadot is built using\n",(0,i.kt)("a",{parentName:"p",href:"https://substrate.io/"},"substrate"),", a modular system to efficiently build blockchains without having necessarily deep knowledge about blockchain technology. Within each module or ",(0,i.kt)("inlineCode",{parentName:"p"},"pallet"),", one can ",(0,i.kt)("inlineCode",{parentName:"p"},"call")," different\nfunctions that have similar logic. For example, the staking pallet contains all functionalities\nrelated to staking such as bonding or unbonding funds. The combined information of pallets and calls\nconstitutes an ",(0,i.kt)("inlineCode",{parentName:"p"},"extrinsic"),", i.e. a transaction that is executed from outside the chain but that\ntriggers an event within the chain. Continuing with the staking example, within the staking pallet\none can bond funds and nominate some validators. The signature of such\nextrinsic might trigger a reward payout at the end of an era; this is an event inside the chain. This way of having\ntransactions categorized within pallets and functionalities makes it possible to create accounts\nhaving special permissions also called ",(0,i.kt)("strong",{parentName:"p"},"proxy accounts"),"."),(0,i.kt)("p",null,"In Polkadot proxy accounts are special\naccounts to which one can delegate signatures to calls from specific pallets. There is thus the\npossibility to create staking proxy accounts that can be used to sign only calls from staking,\nsession and utility pallets. This makes the stash account even more isolated than using a controller\naccount since now one can bond / unbond / bond more funds using the staking proxy account. However,\nit is important to remember that actions on proxy accounts are limited, and in the case of staking\nproxy accounts, calls from the balance pallet cannot be signed. This means that it is not possible to\nsend funds from a staking proxy. To do that one needs to remove that account as a staking proxy."),(0,i.kt)("h2",{id:"staking-system-overview"},"Staking system overview"),(0,i.kt)("p",null,"Any potential validators can indicate their intention to be a validator candidate. Their candidacies\nare made public to all nominators, and a nominator, in turn, submits a list of up to\n",(0,i.kt)(s.Z,{network:"polkadot",path:"consts.staking.maxNominations",defaultValue:16,mdxType:"RPC"}),"\n","\ncandidates that it supports. In the next era, a certain number of validators having the most\nDOT backing get elected and become active. For more information about the election algorithm go to ",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-phragmen"},"this")," page on the wiki or ",(0,i.kt)("a",{parentName:"p",href:"https://research.web3.foundation/en/latest/polkadot/NPoS/1.%20Overview.html?highlight=proportional%20justified%20representation#"},"this")," research article. As a\nnominator, a minimum of\n",(0,i.kt)(s.Z,{network:"polkadot",path:"query.staking.minNominatorBond",defaultValue:1e11,filter:"humanReadable",mdxType:"RPC"}),"\n","\nis required to submit an intention to nominate."),(0,i.kt)("admonition",{title:"Minimum Nomination to Receive Staking Rewards",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Although the minimum nomination intent is\n",(0,i.kt)(s.Z,{network:"polkadot",path:"query.staking.minNominatorBond",defaultValue:1e11,filter:"humanReadable",mdxType:"RPC"}),"",",\nit does not guarantee staking rewards. The nominated amount has to be greater than\n",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-nominator#minimum-active-nomination-to-receive-staking-rewards"},"minimum active nomination"),",\nwhich is a dynamic value that can be much higher than\n",(0,i.kt)(s.Z,{network:"polkadot",path:"query.staking.minNominatorBond",defaultValue:1e11,filter:"humanReadable",mdxType:"RPC"}),"",".")),(0,i.kt)("h3",{id:"bags-list"},"Bags list"),(0,i.kt)("p",null,"The nomination intents are placed in a so-called\n",(0,i.kt)("a",{parentName:"p",href:"https://github.com/paritytech/substrate/pull/9507"},"bags-list"),".\nThe bags list\nhas two primary components, bags and nodes. The list is composed of bags that each describe a range\nof active bonded funds (e.g. the 1st bag will have nominators who staked 0 \u2192 10 DOT, 2nd bag 11 \u2192 20\nDOT, etc). Each bag contains nodes that correspond to nominators and their staked funds."),(0,i.kt)("p",null,"The bags-list pallet is designed to be self-maintaining, with minimal effort from the blockchain,\nmaking it extremely scalable. Let us explore the sorting functionality of the bags list with an\nexample. In the bags list below, there are 8 nodes (corresponding to 8 accounts with staked funds)\nplaced in 3 bags. It can be observed that the list of nodes within the bags is arranged based on\ntheir insertion order and not based on the number of tokens bonded. For instance, the nodes in bag 1\nare arranged in this order: 15 \u2192 12 \u2192 19."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"bags list example 1",src:a(43947).Z,width:"1994",height:"578"})),(0,i.kt)("p",null,"Let's say the nominator with the stake of 19 DOT bonds 2 DOT additionally. This action would place\nthat nominator node in bag 2, right after the node with 27 DOT."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"bags list example 2",src:a(86078).Z,width:"1994",height:"578"})),(0,i.kt)("p",null,"Once the nomination period ends, the NPoS election mechanism takes the nomination intents and their\nassociated votes as input, and it outputs a set of validators. The bags are iterated from the most\nstaked to the least staked. This could leave the last touched bag to only be partially iterated.\nThis means that in some edge cases, the order of members within a bag is also important. Recall that\nwithin each bag, the iteration order is simply the insertion order. If only 7 nodes must be picked\nfor the electing set, the nodes with 5 and 7 DOT will be selected while the node with 8 DOT will be\nleft out."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"bags list example 3",src:a(32478).Z,width:"1994",height:"578"})),(0,i.kt)("p",null,"If one receives staking rewards and the amount of staked tokens within the stash account increases\nover time, the position within a bag changes and may also result in a change of bag. This may also\nhappen if accounts within the bag bond more tokens or unbond tokens, one's account position and the\nposition of other accounts in the bags list might change. These changes are not done automatically.\nThe ",(0,i.kt)("inlineCode",{parentName:"p"},"voterList")," pallet comes with the extrinsic ",(0,i.kt)("inlineCode",{parentName:"p"},"putInFrontOf")," which helps the node to move up in the\nbag. Also, the pallet comes with an important permissionless extrinsic: ",(0,i.kt)("inlineCode",{parentName:"p"},"rebag"),". This\nallows anyone to specify another account that is in the wrong bag, and place it in the correct one.\nActions like bonding/unbonding tokens automatically rebags the nominator node, but events like\nstaking rewards/slashing do not. Check the ",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-nominator#bags-list"},"bags-list")," section for\nmore information."),(0,i.kt)("p",null,"This sorting functionality using bags is extremely important for the\n",(0,i.kt)("a",{parentName:"p",href:"https://gist.github.com/kianenigma/aa835946455b9a3f167821b9d05ba376"},"long-term improvements")," of the\nstaking/election system. The bags-list is capable of including an unlimited number of nodes, subject\nto the chain's runtime storage. In the current staking system configuration, the bags list keeps\n",(0,i.kt)(s.Z,{network:"polkadot",path:"query.staking.maxNominatorsCount",defaultValue:5e4,mdxType:"RPC"}),"\n","\nnomination intents, of which, at most ",(0,i.kt)(s.Z,{network:"polkadot",path:"query.electionProviderMultiPhase.maxElectingVoters",defaultValue:22500,mdxType:"RPC"}),"","\ncome out as the electing nominators. Check\n",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-nominator#staking-election-stages"},"Staking Election Stages")," section for more info."),(0,i.kt)("admonition",{title:"Minimum active nomination threshold to earn rewards is dynamic",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Once again, submitting a nomination intent does not guarantee staking rewards. The stake of the top\n",(0,i.kt)(s.Z,{network:"polkadot",path:"query.electionProviderMultiPhase.maxElectingVoters",defaultValue:22500,mdxType:"RPC"}),""," nominators is applied to the\nvalidators in the active set. To avail of staking rewards, ensure that the number of tokens bonded is\nhigher than the minimum active nomination. For more information, check the\n",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-nominator"},"nominator guide"))),(0,i.kt)("p",null,"The solution to the election of nominators has to meet certain requirements, such as maximizing the\namount of stake to nominate validators and distributing the stake backing validators as evenly as\npossible. The objectives of this election mechanism are to maximize the security of the network, and\nachieve fair representation of the nominators. If you want to know more about how NPoS works (e.g.\nelection, running time complexity, etc.), please read\n",(0,i.kt)("a",{parentName:"p",href:"http://research.web3.foundation/en/latest/polkadot/NPoS.html"},"here"),"."),(0,i.kt)("h3",{id:"rewards-distribution"},"Rewards distribution"),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"The general rule for rewards across validator pools is that two validator pools get paid essentially\nthe same amount of tokens for equal work, i.e. they are not paid proportional to the stakes in\neach pool. There is a probabilistic component to staking rewards in the form of\n",(0,i.kt)("a",{parentName:"p",href:"/docs/maintain-guides-validator-payout##era-points"},"era points")," and\n",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-transaction-fees#fee-calculation"},"tips")," but these should average out over time.")),(0,i.kt)("p",null,"Validator pools are paid the same regardless of stake level. Pools with less stake will generally pay more to nominators\nper-token than pools with more stake. This gives nominators an economic incentive to gradually shift their preferences to lower-staked validators that gain a sufficient amount of reputation. A consequence of this is that the stake across validator pools will be as evenly distributed as possible, to avoid a concentration of power among a few validators. In the long term, validator pools will have similar levels of stake, with the stake\nbeing higher for higher reputation validators (meaning that a nominator that is willing to risk more\nby backing a validator with a low reputation will get paid more)."),(0,i.kt)("p",null,"Before distributing rewards to nominators, validators can create a cut of the reward (a commission) that is not shared with the nominators.\nThis cut is a percentage of the block reward, not an absolute value. After the commission gets\ndeducted, the remaining portion is based on their staked value and split between the validator and\nall of the nominators who have voted for this validator."),(0,i.kt)("p",null,"For example, assume the block reward for a validator is 10 DOT. A validator may specify\n",(0,i.kt)("inlineCode",{parentName:"p"},"validator_commission = 50%"),", in which case the validator would receive 5 DOT. The remaining 5 DOT\nwould then be split between the validator and their nominators based on the proportion of stake each\nnominator had. Note that validators can put up their own stake, and for this calculation, their\nstake acts just as if they were another nominator."),(0,i.kt)("p",null,"Within a validator pool, a percentage of the reward goes thus to pay the validator's\ncommission fees and the remainder is paid pro-rata (i.e. proportional to stake) to the\nnominators and validator. If a validator's commission is set to 100%, no tokens will be paid out to any\nnominations in the validator pool. Notice in particular that the validator is rewarded twice: once in\ncommission fees for validating (if their commission rate is above 0%), and once for nominating\nitself with own stake."),(0,i.kt)("p",null,"The following example should clarify the above. For simplicity, we have the following assumptions:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"These validators do not have a stake of their own."),(0,i.kt)("li",{parentName:"ul"},"They each receive the same number of era points."),(0,i.kt)("li",{parentName:"ul"},"There are no tips for any transactions processed."),(0,i.kt)("li",{parentName:"ul"},"They do NOT charge any commission fees."),(0,i.kt)("li",{parentName:"ul"},"Total reward amount is 100 DOT tokens."),(0,i.kt)("li",{parentName:"ul"},"The current minimum amount of DOT to be a validator is 350 (note that this is ",(0,i.kt)("em",{parentName:"li"},"not")," the actual\nvalue, which fluctuates, but merely an assumption for purposes of this example; to understand how\nthe actual minimal stake is calculated, see\n",(0,i.kt)("a",{parentName:"li",href:"/docs/faq#what-is-the-minimum-stake-necessary-to-be-elected-as-an-active-validator"},"here"),").")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"center"}),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("strong",{parentName:"th"},"A - Validator Pool")),(0,i.kt)("th",{parentName:"tr",align:"center"}),(0,i.kt)("th",{parentName:"tr",align:"center"}))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"Nominator (4)"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Stake (600)"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Fraction of the Total Stake"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Rewards")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"Jin"),(0,i.kt)("td",{parentName:"tr",align:"center"},"100"),(0,i.kt)("td",{parentName:"tr",align:"center"},"0.167"),(0,i.kt)("td",{parentName:"tr",align:"center"},"16.7")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},(0,i.kt)("strong",{parentName:"td"},"Sam")),(0,i.kt)("td",{parentName:"tr",align:"center"},"50"),(0,i.kt)("td",{parentName:"tr",align:"center"},"0.083"),(0,i.kt)("td",{parentName:"tr",align:"center"},"8.3")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"Anson"),(0,i.kt)("td",{parentName:"tr",align:"center"},"250"),(0,i.kt)("td",{parentName:"tr",align:"center"},"0.417"),(0,i.kt)("td",{parentName:"tr",align:"center"},"41.7")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"Bobby"),(0,i.kt)("td",{parentName:"tr",align:"center"},"200"),(0,i.kt)("td",{parentName:"tr",align:"center"},"0.333"),(0,i.kt)("td",{parentName:"tr",align:"center"},"33.3")))),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"center"}),(0,i.kt)("th",{parentName:"tr",align:"center"},(0,i.kt)("strong",{parentName:"th"},"B - Validator Pool")),(0,i.kt)("th",{parentName:"tr",align:"center"}),(0,i.kt)("th",{parentName:"tr",align:"center"}))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"Nominator (4)"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Stake (400)"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Fraction of the Total Stake"),(0,i.kt)("td",{parentName:"tr",align:"center"},"Rewards")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"Alice"),(0,i.kt)("td",{parentName:"tr",align:"center"},"100"),(0,i.kt)("td",{parentName:"tr",align:"center"},"0.25"),(0,i.kt)("td",{parentName:"tr",align:"center"},"25")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"Peter"),(0,i.kt)("td",{parentName:"tr",align:"center"},"100"),(0,i.kt)("td",{parentName:"tr",align:"center"},"0.25"),(0,i.kt)("td",{parentName:"tr",align:"center"},"25")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},"John"),(0,i.kt)("td",{parentName:"tr",align:"center"},"150"),(0,i.kt)("td",{parentName:"tr",align:"center"},"0.375"),(0,i.kt)("td",{parentName:"tr",align:"center"},"37.5")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"center"},(0,i.kt)("strong",{parentName:"td"},"Kitty")),(0,i.kt)("td",{parentName:"tr",align:"center"},"50"),(0,i.kt)("td",{parentName:"tr",align:"center"},"0.125"),(0,i.kt)("td",{parentName:"tr",align:"center"},"12.5")))),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Both validator pools A & B have 4 nominators with a total stake 600 and 400 respectively.")),(0,i.kt)("p",null,"Based on the above rewards distribution, nominators in validator pool B get more rewards per DOT\nthan those in pool A because pool A has more overall stake. Sam has staked 50 DOT in pool A, but he\nonly gets 8.3 in return, whereas Kitty gets 12.5 with the same amount of stake."),(0,i.kt)("p",null,"To estimate how many tokens you can get each month as a nominator or\nvalidator, you can use this ",(0,i.kt)("a",{parentName:"p",href:"https://www.stakingrewards.com/earn/polkadot/calculate"},"tool")," as a\nreference and play around with it by changing some parameters (e.g. how many days you would like to\nstake with your DOT, provider fees, compound rewards, etc.) to have a better estimate. Even though\nit may not be entirely accurate since staking participation is changing dynamically, it works well\nas an indicator."),(0,i.kt)("h4",{id:"oversubscription-commission-fees--slashes"},"Oversubscription, commission fees & slashes"),(0,i.kt)("p",null,"There is an additional factor to consider in terms of rewards. While there is no limit to the number\nof nominators a validator may have, a validator does have a limit to how many nominators to which it\ncan pay rewards. In Polkadot this limit is currently ",(0,i.kt)(s.Z,{network:"polkadot",path:"consts.staking.maxNominatorRewardedPerValidator",defaultValue:256,mdxType:"RPC"}),"",", although this can be\nmodified via runtime upgrade. A validator with more than ",(0,i.kt)(s.Z,{network:"polkadot",path:"consts.staking.maxNominatorRewardedPerValidator",defaultValue:256,mdxType:"RPC"}),""," nominators is\n",(0,i.kt)("em",{parentName:"p"},"oversubscribed"),". When payouts occur, only the top ",(0,i.kt)(s.Z,{network:"polkadot",path:"consts.staking.maxNominatorRewardedPerValidator",defaultValue:256,mdxType:"RPC"}),' nominators as measured by the amount of stake allocated to that validator will receive rewards. All other nominators\nare essentially "wasting" their stake - they used their nomination to elect that validator to the\nactive stake, but receive no rewards in exchange for doing so.'),(0,i.kt)("p",null,"Note that the network slashes a validator slot for a misbehavior (e.g. validator\noffline, equivocation, etc.) the slashed amount is a fixed percentage (and not a fixed amount),\nwhich means that validator pools with more stake get slashed more DOT. Again, this is done to\nprovide nominators with an economic incentive to shift their preferences and back less popular\nvalidators whom they consider to be trustworthy."),(0,i.kt)("p",null,"Also note that each validator candidate is free to name their desired commission\nfee (as a percentage of rewards) to cover operational costs. Since validator pools are paid the\nsame, pools with lower commission fees pay more to nominators than pools with higher fees. Thus,\neach validator can choose between increasing their fees to earn more, or decreasing their fees to\nattract more nominators and increase their chances of being elected. In the long term, we expect\nthat all validators will need to be cost-efficient to remain competitive, and that validators with\nhigher reputation will be able to charge slightly higher commission fees (which is fair)."),(0,i.kt)("h3",{id:"claiming-rewards"},"Claiming rewards"),(0,i.kt)("p",null,""),(0,i.kt)("p",null,"Rewards are recorded per session (approximately 4 hours) and\ncalculated per era (approximately 24 hours). Thus,\nrewards will be calculated once per day. Rewards are calculated based on era points, which have a probabilistic component. In other words,\nthere may be slight differences in your rewards from era to era, and even amongst validators in the\nactive set at the same time. These variations should cancel out over a long enough timeline. See the\npage on ",(0,i.kt)("a",{parentName:"p",href:"/docs/maintain-guides-validator-payout"},"Validator Payout Guide"),"."),(0,i.kt)("p",null,"In order to be paid your staking rewards, someone must claim them for each validator that you\nnominate. Staking rewards are kept available for 84 eras, which is approximately 84 days. For more information on why this is so, see the page on ",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-simple-payouts"},"simple payouts"),"."),(0,i.kt)("admonition",{title:"Payouts",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Payouts are unclaimed rewards waiting to be paid out to both validators and nominators. If you go to the Staking payouts page on\n",(0,i.kt)("a",{parentName:"p",href:"https://polkadot.js.org/apps/#/staking"},"Polkadot-JS"),", you will see a list of all validators\nthat you have nominated in the past 84 eras and for which you have not yet received a payout. The payout page is visible only to stakers.")),(0,i.kt)("p",null,"Each validator as well as their nominators have the option to trigger the payout for all unclaimed eras. Note that this will pay everyone\nwho was nominating that validator during those eras. Therefore, you may not\nsee anything in this tab, yet still have received a payout if somebody (generally, but not\nnecessarily, another nominator or the validator operator) has triggered the payout for that\nvalidator for that era."),(0,i.kt)("admonition",{title:"Time limit",type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"If nobody claims your staking rewards within 84 eras, then you will not be able to claim them and they will be lost. Additionally, if the validator unbonds all their own stake, any pending payouts will also be lost. Since unbonding takes ",(0,i.kt)(s.Z,{network:"polkadot",path:"query.staking.bondingDuration",defaultValue:28,mdxType:"RPC"})," days",", nominators should check if they have pending payouts at least this often.")),(0,i.kt)("p",null,"Rewards can be directed to the same account used to sign the payout (controller), to the stash account (and either\nincreasing the staked value or not increasing the staked value), or to a completely unrelated\naccount. It is also possible to top-up / withdraw some bonded tokens without having to un-stake all staked tokens."),(0,i.kt)("p",null,"If you wish to check if you received a payout, you will have to check via a block explorer. See\n",(0,i.kt)("a",{parentName:"p",href:"https://support.polkadot.network/support/solutions/articles/65000168954-how-can-i-see-my-staking-rewards-"},"the relevant Support page"),"\nfor details."),(0,i.kt)("p",null,"For specific details about validator payouts, please see\n",(0,i.kt)("a",{parentName:"p",href:"/docs/maintain-guides-validator-payout"},"this guide"),"."),(0,i.kt)("h2",{id:"slashing"},"Slashing"),(0,i.kt)("p",null,"Slashing will happen if a validator misbehaves (e.g. goes offline, attacks the network, or runs\nmodified software) in the network. They and their nominators will get slashed by losing a percentage\nof their bonded/staked DOT."),(0,i.kt)("p",null,"Any slashed DOT will be added to the ",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-treasury"},"Treasury"),". The rationale for this (rather\nthan burning or distributing them as rewards) is that slashes may then be reverted by the Council by\nsimply paying out from the Treasury. This would be useful in situations such as faulty slashes. In the case of\nlegitimate slashing, it moves tokens away from malicious validators to those building the ecosystem\nthrough the normal Treasury process."),(0,i.kt)("p",null,"Validator pools with a larger total stake backing them will get slashed more harshly than less popular\nones, so we encourage nominators to shift their nominations to less popular validators to reduce\ntheir possible losses."),(0,i.kt)("p",null,"It is important to realize that slashing only occurs for active validations for a given nominator,\nand slashes are not mitigated by having other inactive or waiting nominations. They are also not\nmitigated by the validator operator running separate validators; each validator is considered its\nown entity for purposes of slashing, just as they are for staking rewards."),(0,i.kt)("p",null,"In rare instances, a nominator may be actively nominating several validators in a single era. In\nthis case, the slash is proportionate to the amount staked to that specific validator. Note that you cannot control the percentage of stake you have allocated\nto each validator or choose who your active validator will be (except in the trivial case of\nnominating a single validator). Staking allocations are controlled by the\n",(0,i.kt)("a",{parentName:"p",href:"/docs/learn-phragmen"},"Phragm\xe9n algorithm"),"."),(0,i.kt)("p",null,'Once a validator gets slashed, it goes into the state as an "unapplied slash". You can check this\nvia\n',(0,i.kt)("a",{parentName:"p",href:"https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Frpc.polkadot.io#/staking/slashes"},"Polkadot-JS Apps"),".\nThe UI shows it per validator and then all the affected nominators along with the amounts. While\nunapplied, a governance proposal can be made to reverse it during this period (7 days on Kusama, 28\ndays on Polkadot). After the grace period, the slashes are applied."),(0,i.kt)("p",null,"The following levels of offense are\n",(0,i.kt)("a",{parentName:"p",href:"https://research.web3.foundation/en/latest/polkadot/slashing/amounts.html"},"defined"),". However, these\nparticular levels are not implemented or referred to in the code or in the system; they are meant as\nguidelines for different levels of severity for offenses. To understand how slash amounts are\ncalculated, see the equations in the section below."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Level 1: isolated unresponsiveness, i.e. being offline for an entire session. Generally no\nslashing, only ",(0,i.kt)("a",{parentName:"li",href:"#chilling"},(0,i.kt)("em",{parentName:"a"},"chilling")),"."),(0,i.kt)("li",{parentName:"ul"},"Level 2: concurrent unresponsiveness or isolated equivocation, slashes a very small amount of the\nstake and chills."),(0,i.kt)("li",{parentName:"ul"},"Level 3: misconducts unlikely to be accidental, but which do not harm the network's security to\nany large extent. Examples include concurrent equivocation or isolated cases of unjustified voting\nin ",(0,i.kt)("a",{parentName:"li",href:"/docs/learn-consensus"},"GRANDPA"),". Slashes a moderately small amount of the stake and chills."),(0,i.kt)("li",{parentName:"ul"},"Level 4: misconduct that poses serious security or monetary risk to the system, or mass\ncollusion. Slashes all or most of the stake behind the validator and chills.")),(0,i.kt)("p",null,"For more information about slashing visit the dedicated page."),(0,i.kt)("h2",{id:"chilling"},"Chilling"),(0,i.kt)("p",null,"Chilling is the act of stepping back from any nominating or validating. It can be done by a\nvalidator or nominator at any time, taking effect in the next era. It can also\nspecifically mean removing a validator from the active validator set by another validator,\ndisqualifying them from the set of electable candidates in the next NPoS cycle."),(0,i.kt)("p",null,"Chilling may be voluntary and validator-initiated, e.g. if there is a planned outage in the\nvalidator's surroundings or hosting provider, and the validator wants to exit to protect themselves\nagainst slashing. When voluntary, chilling will keep the validator active in the current session,\nbut will move them to the inactive set in the next. The validator will not lose their nominators."),(0,i.kt)("p",null,"When used as part of a punishment (initiated externally), being chilled carries an implied penalty\nof being un-nominated. It also disables the validator for the remainder of the current era and\nremoves the offending validator from the next election."),(0,i.kt)("p",null,"Polkadot allows some validators to be disabled, but if the number of disabled validators gets too\nlarge, Polkadot will trigger a new validator election to get a full set. Disabled validators will\nneed to resubmit their intention to validate and re-garner support from nominators."),(0,i.kt)("p",null,"For more on chilling, see the ",(0,i.kt)("a",{parentName:"p",href:"/docs/maintain-guides-how-to-chill"},"How to Chill")," page on this wiki."),(0,i.kt)("h2",{id:"inflation"},"Inflation"),(0,i.kt)("p",null,"DOT is inflationary; there is no maximum number of DOT. Inflation is designed\nto be approximately 10% annually, with validator rewards being a function of the amount staked\nand the remainder going to the treasury. The current token supply of DOT is ~1,000,000,000, as\na result of ",(0,i.kt)("a",{parentName:"p",href:"/docs/redenomination"},"redenomination"),"."),(0,i.kt)("p",null,""),(0,i.kt)("p",null,"There is an ",(0,i.kt)("em",{parentName:"p"},"ideal staking rate")," that the network tries to maintain. The goal is to have the ",(0,i.kt)("em",{parentName:"p"},"system\nstaking rate")," meet the ",(0,i.kt)("em",{parentName:"p"},"ideal staking rate"),"."),(0,i.kt)("p",null,"The system staking rate would be the total amount staked over the total token supply, where the\ntotal amount staked is the stake of all validators and nominators on the network. The ideal staking\nrate accounts for having sufficient backing of DOT\nto prevent the possible compromise of security while keeping the native\ntoken liquid. An ",(0,i.kt)("strong",{parentName:"p"},"ideal staking rate of 50% stabilizes the network"),".\nDOT is inflated according to the system staking\nrate of the entire network."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"According to the inflation model, this would suggest that if you do not use your\nDOT for staking, your tokens dilute over time.")),(0,i.kt)("p",null,"The ideal staking rate on Polkadot also varies with the number of parachains (50% is the current\nestimation of all DOT that should be staked, per parachain slot)."),(0,i.kt)("admonition",{title:"Staking rate without parachains",type:"info"},(0,i.kt)("p",{parentName:"admonition"},"In the ",(0,i.kt)("strong",{parentName:"p"},"absence of parachains, the suggested ideal staking rate is 75%"),", as liquidity is not\nconstrained by locked parachain bonds.")),(0,i.kt)("p",null,"If the amount of tokens staked goes below the ideal rate, then staking rewards for nominators goes\nup. On the contrary, if it goes above, staking rewards drop. This is a result of the change in the\npercentage of staking rewards that go to the Treasury."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"staking",src:a(12410).Z,width:"800",height:"800"})),(0,i.kt)("p",{style:{textAlign:"center"}},"Source: ",(0,i.kt)("a",{href:"https://w3f-research.readthedocs.io/en/latest/polkadot/overview/2-token-economics.html"},"Research - Web3 Foundation")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"x-axis"),": Proportion of DOT staked"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"y-axis"),": Inflation, annualized percentage"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Blue line"),": Inflation rewards to stakers"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Green line"),": Staker rate of return")),(0,i.kt)("p",null,"You can determine the inflation rewards by checking the staking overview on\n",(0,i.kt)("a",{parentName:"p",href:"https://polkadot.js.org/apps/#/staking"},"Polkadot-JS Apps"),"."),(0,i.kt)("p",null,"The above chart shows the inflation model of the network. Depending on the staking participation,\nthe distribution of the inflation to validators/nominators versus the treasury will change\ndynamically to provide incentives to participate (or not participate) in staking."),(0,i.kt)("p",null,"For instance, assuming that the ideal staking rate is 50%, all of the inflation would go to the\nvalidators/nominators if 50% of all KSM / DOT are staked. Any deviation from the 50% - positive or\nnegative - sends the proportional remainder to the treasury and effectively reduces staking rewards."),(0,i.kt)("p",null,"For those who are interested in knowing more about the design of the inflation model for the network,\nplease see\n",(0,i.kt)("a",{parentName:"p",href:"https://w3f-research.readthedocs.io/en/latest/polkadot/overview/2-token-economics.html"},"here"),"."),(0,i.kt)("h3",{id:"why-stake"},"Why stake?"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"10% inflation/year when the network launches"),(0,i.kt)("li",{parentName:"ul"},"50% targeted active staking"),(0,i.kt)("li",{parentName:"ul"},"~20% annual nominal return")),(0,i.kt)("p",null,"Up until now, the network has been following an inflation model that excludes the metric of active\nparachains. The ideal staking rate is not always 50%, as the number of active parachains influences\nthe available liquidity that is available to secure the network."),(0,i.kt)("p",null,"Keep in mind that when the system's staking rate is lower than the ideal staking rate, the annual\nnominal return rate will be higher, encouraging more users to use their tokens for staking. On the\ncontrary, when the system staking rate is higher than the ideal staking rate, the annual nominal\nreturn will be less, encouraging some users to withdraw."),(0,i.kt)("h3",{id:"why-not-stake"},"Why not stake?"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Tokens will be locked for about 28 days on Polkadot after unbonding, and seven days on Kusama."),(0,i.kt)("li",{parentName:"ul"},"Punishment in case of validator found to be misbehaving (see ",(0,i.kt)("a",{parentName:"li",href:"#slashing"},"#slashing"),")."),(0,i.kt)("li",{parentName:"ul"},"You want to use the tokens for a parachain slot.")),(0,i.kt)("h2",{id:"how-many-validators-does-polkadot-have"},"How many validators does Polkadot have?"),(0,i.kt)("p",null,"Polkadot started with 20 open validator positions and has increased gradually to 297. The top bound\non the number of validators has not been determined yet, but should only be limited by the bandwidth\nstrain of the network due to peer-to-peer message passing. The estimate of the number of validators\nthat Polkadot will have at maturity is around 1000. Kusama, Polkadot's canary network, currently has\n900 validator slots in the active set."),(0,i.kt)("h2",{id:"resources"},"Resources"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://medium.com/web3foundation/how-nominated-proof-of-stake-will-work-in-polkadot-377d70c6bd43"},"How Nominated Proof of Stake will work in Polkadot")," -\nBlog post by Web3 Foundation researcher Alfonso Cevallos covering NPoS in Polkadot."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/maintain-guides-secure-validator"},"Validator setup"))))}u.isMDXComponent=!0},58126:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n=a.p+"assets/images/staking-keys_stash_controller-ab610fee1332a02465a8cb914259f281.png"},12410:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n=a.p+"assets/images/staking-participation-rate-da8419ef7f3e69baa73fa2009cc08cc0.png"},5364:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n=a.p+"assets/images/Reward-risk nominating-2a0d217ac3cfa76b65af0c1b09e754f1.png"},43947:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n=a.p+"assets/images/bags-list-example-1-2a3130b15af9da6b8d758a8f64f46db1.png"},86078:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n=a.p+"assets/images/bags-list-example-2-fbeb87ba5de9597dd425d8c12e45c9d7.png"},32478:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});const n=a.p+"assets/images/bags-list-example-3-de0feba4f8f41877ed9a9427b2e51b13.png"},95856:()=>{},46601:()=>{}}]);